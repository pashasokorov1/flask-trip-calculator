{% extends 'base.html' %}
{% block content %}
<h2>Расчёт за месяц (два сезона)</h2>

<form method="POST">
    <div class="form-group">
        <label>Автомобиль:</label>
        <select name="vehicle_id" class="form-control" required>
            {% for vehicle in vehicles %}
                <option value="{{ vehicle[0] }}">{{ vehicle[1] }} ({{ vehicle[2] }})</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label>Спидометр на начало месяца:</label>
        <input type="number" name="start_odometer" class="form-control" required>
    </div>

    <h4>Первая часть месяца</h4>
    <div class="form-row">
        <div class="col">
            <label>Сезон:</label>
            <select name="season1" class="form-control" required>
                <option value="winter">Зима</option>
                <option value="summer">Лето</option>
            </select>
        </div>
        <div class="col">
            <label>Город (км):</label>
            <input type="number" name="city_km1" class="form-control" required>
        </div>
        <div class="col">
            <label>Трасса (км):</label>
            <input type="number" name="highway_km1" class="form-control" required>
        </div>
        <div class="col">
            <label>Район (км):</label>
            <input type="number" name="region_km1" class="form-control" required>
        </div>
        <div class="col">
            <label>Простой (ч):</label>
            <input type="number" step="0.01" name="idle_hours1" class="form-control" required>
        </div>
    </div>

    <h4>Вторая часть месяца</h4>
    <div class="form-row mt-3">
        <div class="col">
            <label>Сезон:</label>
            <select name="season2" class="form-control" required>
                <option value="winter">Зима</option>
                <option value="summer">Лето</option>
            </select>
        </div>
        <div class="col">
            <label>Город (км):</label>
            <input type="number" name="city_km2" class="form-control" required>
        </div>
        <div class="col">
            <label>Трасса (км):</label>
            <input type="number" name="highway_km2" class="form-control" required>
        </div>
        <div class="col">
            <label>Район (км):</label>
            <input type="number" name="region_km2" class="form-control" required>
        </div>
        <div class="col">
            <label>Простой (ч):</label>
            <input type="number" step="0.01" name="idle_hours2" class="form-control" required>
        </div>
    </div>

    <div class="form-group mt-4">
        <label>Топливо на начало месяца (л):</label>
        <input type="number" step="0.01" name="fuel_start" class="form-control" required>
    </div>
    <div class="form-group">
        <label>Заправлено за месяц (л):</label>
        <input type="number" step="0.01" name="fuel_added" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Рассчитать</button>
</form>

{% if result %}
    <hr>
    <h4>Результат расчёта</h4>
    <pre>{{ result }}</pre>
{% endif %}
{% endblock %}
